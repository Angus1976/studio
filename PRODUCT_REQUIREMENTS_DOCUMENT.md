
# AI 任务流平台产品需求文档 (PRD)

**版本**: 1.0
**日期**: 2025-08-12
**作者**: AI 任务流平台开发团队

---

## 1. 产品概述

### 1.1. 产品愿景

AI 任务流平台是一个连接 AI 数字员工能力的设计者、提供方与需求方的在线市场。它旨在通过标准化的 AI 能力场景和自动化的工作流，帮助企业和个人用户高效解决特定业务问题，同时为 AI 技术工程师提供一个展示、分享和商业化其专业能力的平台。

### 1.2. 核心价值

*   **对需求方 (用户)**: 提供一个智能引导式平台，帮助用户清晰地表达业务需求，并快速匹配到经过验证的 AI 自动化解决方案（能力场景），降低使用 AI 的门槛和成本。
*   **对供给方 (工程师)**: 提供一个强大的设计和测试环境，使其能够方便地将专业知识封装为可复用的 AI 能力场景，并通过平台触达潜在客户，实现知识变现。
*   **对平台方 (管理员)**: 提供一个可管理、可运营的市场平台，通过对租户、用户、交易和平台核心资产（如 LLM、软件许可）的有效管理，确保市场的健康、稳定和可持续发展。

## 2. 用户角色与画像

本平台主要服务于以下四类核心角色：

| 角色组 | 角色名称 | 核心诉求 |
| :--- | :--- | :--- |
| **平台方** | **管理员** | 监控平台整体运营状态，管理租户、用户及平台资产，确保市场秩序和交易安全。 |
| | **技术工程师** | 设计、开发和发布高质量的 AI 能力场景，通过平台将其交付给最终用户。 |
| **用户方** | **企业租户** | 为其组织寻找、采购和管理 AI 自动化解决方案，以提升业务效率。管理内部成员和资源。 |
| | **个人用户** | 寻找并使用 AI 工具解决个人工作流中的特定问题，例如内容创作、代码辅助等。 |


## 3. 核心功能流程 (User Journey)

平台的核心用户流程是一个从需求探索到解决方案交付的完整闭环：

1.  **用户引导与需求探索**:
    *   新用户访问平台，通过 `AI 需求导航器` 开始交互。
    *   AI 通过多轮引导式对话，收集用户的基本信息（如行业、角色）和核心需求（希望解决的问题或自动化的任务）。
    *   系统根据对话内容，构建一个临时的用户画像。

2.  **智能路由与场景推荐**:
    *   需求分析完成后，系统根据用户画像和意图，自动将用户路由至最匹配的 AI 专家（一个预设了特定领域知识的 `数字员工`）。
    *   同时，系统从 `能力场景库` 中筛选并向用户展示一组高度相关的推荐场景。

3.  **场景交互与决策**:
    *   用户可以直接浏览推荐的场景列表。
    *   **直接选用**: 用户可以选择一个场景直接使用，其配置（Prompt ID）会自动加载到操作面板，可立即进行测试。
    *   **微调场景**: 用户可以选择一个场景进行微调。场景的详细信息会加载到 `AI 场景架构师` 视图中，用户可以编辑其内容，保存为自定义版本。

4.  **人工支持衔接**:
    *   如果在推荐列表中没有找到合适的场景，或者用户需要专业帮助进行微调。
    *   用户可以点击 `联系工程师`，系统会弹出一个包含平台方专家和认证第三方工程师的列表，供用户选择联系。

5.  **任务订单与交付**:
    *   当用户确认使用某个（标准或微调后的）场景后，可以生成一个 `任务订单`。
    *   用户通过第三方支付平台支付定金或全款。
    *   平台方或工程师根据订单完成最终的配置和交付。

## 4. 功能模块规格

### 4.1. 登录与注册
*   提供统一的登录/注册入口。
*   用户在注册/登录时需选择自己的角色（管理员、工程师、企业租户、个人用户）。
*   支持不同角色的演示账户一键登录，便于快速体验平台功能。

### 4.2. AI 需求导航器
*   **技术实现**: 基于 Genkit 和大语言模型（如 Gemini）。
*   **交互方式**: 引导式、多轮对话界面。
*   **核心逻辑**:
    *   主动提问以收集用户画像所需信息（行业、角色、需求场景、核心需求）。
    *   能理解并处理上下文，维护对话历史。
    *   对话结束后，输出结构化的用户需求摘要和推荐的专家 `Prompt ID`。
*   **用户界面**:
    *   清晰的对话流展示，区分用户和 AI 消息。
    *   在 AI 思考时显示加载状态。
    *   需求分析完成后，禁用输入框并给出明确的完成提示。

### 4.3. 能力场景库与市场
*   **场景定义**: 一个能力场景应包含标题、描述、适用行业、核心任务和核心提示词（Prompt）。
*   **工程师视图 (Designer)**:
    *   提供场景的创建、编辑、删除和测试功能。
    *   工程师可以将设计好的场景添加（发布）到平台场景库中。
*   **用户视图 (Library Viewer)**:
    *   在用户主页，以卡片形式展示向用户推荐的场景。
    *   每个卡片提供“选用”和“微调”两个操作按钮。

### 4.4. AI 场景架构师
*   一个可编辑的表单视图。
*   当用户选择“微调此场景”时，此视图被激活并加载场景的现有数据。
*   用户可在此修改场景的描述和核心提示词。
*   提供保存自定义修改的功能。

### 4.5. 数字员工与提示词测试
*   **核心流程**: `digitalEmployee` Genkit 流程。
*   **功能**: 接收一个 `Prompt ID` 和用户上下文（测试内容），调用相应的大语言模型并返回结果。
*   **测试界面**:
    *   在工程师设计器和用户主页的操作面板中均提供测试区域。
    *   用户可以输入具体的业务内容来测试所选或所设计场景的实际效果。

### 4.6. 管理员仪表盘
*   **核心功能**: 提供平台级的管理能力。
*   **多租户管理**: 创建、查看、编辑和禁用企业租户账户。
*   **用户管理**: 管理平台上的所有个人用户和技术工程师账户。
*   **交易管理**: 审核和管理平台上的所有订单和交易流水。
*   **资产与权限管理**:
    *   管理对接的 LLM 模型及其 API Keys。
    *   分配和管理给租户的 Token 用量。
    *   管理平台集成的其他软件资产（如 RPA 许可）。

### 4.7. 企业租户仪表盘
*   **核心功能**: 为企业客户提供组织内部的管理能力。
*   **概览**: 展示核心数据，如 Token 使用量，并提供客户成功经理的联系方式。
*   **集采市场**: 提供一个标准化的采购入口，用于购买软件、服务和 AI 资源。
*   **我的订单**: 查看和管理企业的所有采购订单及其状态。
*   **成员管理**: 邀请、查看和管理企业内部的成员账户。
*   **资源与权限**:
    *   管理企业自己账户的 API 密钥。
    *   配置企业内部的角色和权限体系。

---
## 5. 非功能性需求

*   **UI/UX**: 界面应简洁、现代、响应式，并提供清晰的操作指引。
*   **性能**: AI 交互响应时间应尽可能短，页面加载速度快。
*   **可扩展性**: 平台架构应支持未来方便地增加新的 AI 模型、能力场景和第三方服务。
*   **安全性**: 用户的认证信息、API 密钥等敏感数据应被妥善处理。支付流程应通过可信的第三方平台进行。

